(this["webpackJsonpmovies-project"]=this["webpackJsonpmovies-project"]||[]).push([[0],{40:function(e,t,a){e.exports=a(74)},45:function(e,t,a){},46:function(e,t,a){},66:function(e,t,a){},67:function(e,t){e.exports="data:image/png;base64,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"},68:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(36),o=a.n(s),l=(a(45),a(11)),c=a(12),i=a(14),u=a(13),m=a(37),d=a(4),p=(a(46),a(80)),A=a(75),g=a(76),E=a(77),h=a(16),f=a.n(h),w=a(81),v=a(78);a(34),a(64);p.a.use([A.a,g.a,E.a]);var b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).shuffle=function(e){for(var t,a,r=e.length;0!==r;)a=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[a],e[a]=t;return e},r.loadHomeSlider=function(){return 0!==r.state.posters.length?n.a.createElement(w.a,{slidesPerView:1,pagination:{clickable:!0},loop:!0,autoplay:{delay:4e3},effect:"fade"},r.state.posters.map((function(e,t){return n.a.createElement(v.a,{key:t},n.a.createElement("img",{className:"home-swiper",alt:e.title,src:e.poster}),n.a.createElement("div",{className:"caption"},n.a.createElement("div",{className:"captioninside"},n.a.createElement("h2",{className:"poster-style"},e.title),n.a.createElement("a",{href:"single.html",className:"playbutton"},"View Info"))))}))):n.a.createElement("div",null)},r.state={posters:[]},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:9000/posters").then((function(t){var a=t.data;a=e.shuffle(a),e.setState({posters:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.loadHomeSlider()}}]),a}(r.Component),N=a(79),W=a(15);a(65),a(66);p.a.use([N.a]);var C=function(e){Object(i.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(l.a)(this,r),(s=t.call(this,e)).showOthersPicture=function(){if(void 0!==(new W.a).get("userId"))return n.a.createElement(v.a,null,n.a.createElement("a",{href:"/"},n.a.createElement("img",{style:{maxWidth:"100%",width:"78%"},alt:"show others",src:a(67)})))},s.showMovies=function(){if(0!==s.state.movies.length)return n.a.createElement(w.a,{navigation:!0,loop:!0,breakpoints:{320:{slidesPerView:3,spaceBetween:5},480:{slidesPerView:3,spaceBetween:5},768:{slidesPerView:5,spaceBetween:8},1024:{slidesPerView:6,spaceBetween:8}}},s.state.movies.map((function(e,t){return n.a.createElement(v.a,{key:t},n.a.createElement("a",{href:"/"},n.a.createElement("img",{style:{maxWidth:"90%",width:"80%"},alt:e.title,src:e.poster}),n.a.createElement("h3",{className:"hometitle"},e.title)))})),s.showOthersPicture())},s.setTitle=function(){switch(s.props.orderSwiper){case"recent":return n.a.createElement("h2",{className:"panel"},"Recently released");case"favorites":return n.a.createElement("h2",{className:"panel"},"Favorite movies");default:return n.a.createElement("h2",{className:"panel"},"Top rated")}},s.state={movies:[]},s}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this,t="";switch(this.props.orderSwiper){case"recent":t="http://localhost:9000/movies/recent/".concat(this.props.count);break;case"favorites":t="http://localhost:9000/movies/favorites/".concat(this.props.count);break;default:t="http://localhost:9000/movies/topRated/".concat(this.props.count)}var a=(new W.a).get("userId");f.a.post(t,{userId:a}).then((function(t){e.setState({movies:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",null,this.setTitle(),this.showMovies())}}]),r}(r.Component),y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).loadPage=function(){return void 0!==(new W.a).get("userId")?n.a.createElement("div",null,n.a.createElement(b,null),n.a.createElement(C,{orderSwiper:"recent",count:10}),n.a.createElement(C,{orderSwiper:"favorites",count:10}),n.a.createElement(C,{orderSwiper:"top-rated",count:10})):n.a.createElement("div",null,n.a.createElement(b,null),n.a.createElement(C,{orderSwiper:"recent",count:6}))},e}return Object(c.a)(a,[{key:"render",value:function(){return this.loadPage()}}]),a}(r.Component),I=(a(68),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).setUserName=function(e){r.setState({userName:e.target.value})},r.setPassword=function(e){r.setState({password:e.target.value})},r.setNewUserName=function(e){r.setState({newUserName:e.target.value})},r.setNewPassword=function(e){r.setState({newPassword:e.target.value})},r.setConfirmPassword=function(e){r.setState({confirmPassword:e.target.value})},r.login=function(){if(""===r.state.userName||""===r.state.password)alert("User name or password can't be empty");else{var e={userName:r.state.userName,password:r.state.password};f.a.post("http://localhost:9000/login",e).then((function(e){if("user not found"===e.data)alert("User name or password incorrect");else{(new W.a).set("userId",e.data.userId,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0}),r.setState({loggedUserName:e.data.userName}),window.location.reload(!1)}})).catch((function(e){console.log(e)}))}},r.signUp=function(){if(""===r.state.newUserName||""===r.state.newPassword||""===r.state.confirmPassword)alert("Credentials can't be empty");else if(r.state.newPassword!==r.state.confirmPassword)alert("You need to confirm the password");else{var e={newUserName:r.state.newUserName,newPassword:r.state.newPassword};f.a.post("http://localhost:9000/signup",e).then((function(e){if("user name taken"===e.data)alert("User name already taken");else{(new W.a).set("userId",e.data.userId,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0}),r.setState({loggedUserName:e.data.userName}),window.location.reload(!1)}})).catch((function(e){console.log(e)}))}},r.logOut=function(){(new W.a).remove("userId"),r.setState({loggedUserName:"",userName:"",password:""}),window.location.reload(!1)},r.loadLogButtons=function(){return""!==r.state.loggedUserName?n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement("a",{href:"/#","data-toggle":"dropdown",className:"btn btn-primary dropdown-toggle get-started-btn mt-1 mb-1"},"Welcome ",r.state.loggedUserName),n.a.createElement("ul",{className:"dropdown-menu form-wrapper"},n.a.createElement("li",{className:"center-li"},n.a.createElement("input",{type:"button",className:"fav-style btn btn-primary btn-block",value:"Watch favorites"}),n.a.createElement("button",{onClick:function(){return r.logOut()},className:"logout-text"},"Log out"))))):n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement("a",{"data-toggle":"dropdown",className:"dropdown-toggle",href:"/#"},"Login"),n.a.createElement("ul",{className:"dropdown-menu form-wrapper"},n.a.createElement("li",null,n.a.createElement("p",{className:"hint-text"},"Sign in to your account"),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{onChange:r.setUserName,type:"text",className:"form-control",placeholder:"Username",required:"required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{onChange:r.setPassword,type:"password",className:"form-control",placeholder:"Password",required:"required"})),n.a.createElement("input",{onClick:function(){return r.login()},type:"button",className:"btn btn-primary btn-block",value:"Login"})))),n.a.createElement("li",null,n.a.createElement("a",{href:"/#","data-toggle":"dropdown",className:"btn btn-primary dropdown-toggle get-started-btn mt-1 mb-1"},"Sign up"),n.a.createElement("ul",{className:"dropdown-menu form-wrapper"},n.a.createElement("li",null,n.a.createElement("p",{className:"hint-text"},"Fill in this form to create your account!"),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{onChange:r.setNewUserName,type:"text",className:"form-control",placeholder:"Username",required:"required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{onChange:r.setNewPassword,type:"password",className:"form-control",placeholder:"Password",required:"required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{onChange:r.setConfirmPassword,type:"password",className:"form-control",placeholder:"Confirm Password",required:"required"})),n.a.createElement("input",{onClick:function(){return r.signUp()},type:"submit",className:"btn btn-primary btn-block",value:"Sign up"})))))},r.state={userName:"",password:"",newUserName:"",newPassword:"",confirmPassword:"",loggedUserName:""},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=(new W.a).get("userId");if(void 0!==t){f.a.post("http://localhost:9000/login/user",{userId:t}).then((function(t){"user not found"===t.data?console.log("not found"):e.setState({loggedUserName:t.data})})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return n.a.createElement("nav",{id:"navbar",className:"navbar navbar-default navbar-expand-lg navbar-light"},n.a.createElement("div",{className:"navbar-header"},n.a.createElement("a",{className:"navbar-brand",href:"/"},"Movie",n.a.createElement("b",null,"Mojo")),n.a.createElement("button",{type:"button","data-target":"#navbarCollapse","data-toggle":"collapse",className:"navbar-toggle"},n.a.createElement("span",{className:"navbar-toggler-icon"}),n.a.createElement("span",{className:"icon-bar"}),n.a.createElement("span",{className:"icon-bar"}),n.a.createElement("span",{className:"icon-bar"}))),n.a.createElement("div",{id:"navbarCollapse",className:"collapse navbar-collapse"},this.loadLogButtons()))}}]),a}(r.Component)),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(I,null),n.a.createElement(m.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(y,e)}}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.e83dbe29.chunk.js.map