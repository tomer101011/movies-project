(this["webpackJsonpmovies-project"]=this["webpackJsonpmovies-project"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){e.exports=a(98)},48:function(e,t,a){},49:function(e,t,a){},69:function(e,t,a){},70:function(e,t){e.exports="data:image/png;base64,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"},76:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(39),l=a.n(r),s=(a(48),a(10)),c=a(11),i=a(13),m=a(12),u=a(18),d=a(6),v=(a(49),a(104)),f=a(99),p=a(100),h=a(101),E=a(7),g=a.n(E),A=a(105),w=a(102),b="http://localhost:9000";a(35),a(67);v.a.use([f.a,p.a,h.a]);var I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).shuffle=function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e},n.loadHomeSlider=function(){return 0!==n.state.posters.length?o.a.createElement(A.a,{slidesPerView:1,pagination:{clickable:!0},loop:!0,autoplay:{delay:4e3},effect:"fade"},n.state.posters.map((function(e,t){return o.a.createElement(w.a,{key:t},o.a.createElement("img",{className:"home-swiper",alt:e.title,src:e.poster}),o.a.createElement("div",{className:"caption"},o.a.createElement("div",{className:"captioninside"},o.a.createElement("h2",{className:"title-style"},e.title),o.a.createElement("h2",{className:"plot-style"},e.plot))))}))):o.a.createElement("div",null)},n.state={posters:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="".concat(b,"/posters");g.a.get(t).then((function(t){var a=t.data;a=e.shuffle(a),e.setState({posters:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.loadHomeSlider()}}]),a}(n.Component),N=a(103),C=a(4);a(68),a(69);v.a.use([N.a]);var y=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).showOthersPicture=function(){if(void 0!==(new C.a).get("userId"))return o.a.createElement(w.a,null,o.a.createElement("a",{href:"#".concat("/allmovies")},o.a.createElement("img",{onClick:function(){return r.addCookieSearch()},style:{maxWidth:"100%",width:"78%"},alt:"show others",src:a(70)})))},r.addCookieSearch=function(){(new C.a).set("show",r.props.orderSwiper,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0})},r.addCookieMovieId=function(e){(new C.a).set("movieId",e,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0})},r.showMovies=function(){if(0!==r.state.movies.length)return o.a.createElement(A.a,{navigation:!0,loop:!0,breakpoints:{320:{slidesPerView:3,spaceBetween:5},480:{slidesPerView:3,spaceBetween:5},768:{slidesPerView:5,spaceBetween:8},1024:{slidesPerView:6,spaceBetween:8}}},r.state.movies.map((function(e,t){return o.a.createElement(w.a,{key:t},o.a.createElement(u.b,{to:{pathname:"/movie"}},o.a.createElement("img",{onClick:function(){return r.addCookieMovieId(e.movieId)},className:"imgSwiper",style:{maxWidth:"90%",width:"80%"},alt:e.title,src:e.poster}),o.a.createElement("h3",{className:"hometitle"},e.title)))})),r.showOthersPicture())},r.setTitle=function(){switch(r.props.orderSwiper){case"recent":return o.a.createElement("h2",{className:"panel"},"Released recently");case"favorites":if(0!==r.state.movies.length)return o.a.createElement("h2",{className:"panel"},"Favorite movies");break;default:return o.a.createElement("h2",{className:"panel"},"Top rated")}},r.state={movies:[]},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t="";switch(this.props.orderSwiper){case"recent":t="".concat(b,"/movies/recent/").concat(this.props.count);break;case"favorites":t="".concat(b,"/movies/favorites/").concat(this.props.count);break;default:t="".concat(b,"/movies/topRated/").concat(this.props.count)}var a=(new C.a).get("userId");g.a.post(t,{userId:a}).then((function(t){e.setState({movies:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.setTitle(),this.showMovies())}}]),n}(n.Component),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).loadPage=function(){return void 0!==(new C.a).get("userId")?o.a.createElement("div",null,o.a.createElement(I,null),o.a.createElement(y,{orderSwiper:"recent",count:10}),o.a.createElement(y,{orderSwiper:"favorites",count:10}),o.a.createElement(y,{orderSwiper:"top-rated",count:10})):o.a.createElement("div",null,o.a.createElement(I,null),o.a.createElement(y,{orderSwiper:"recent",count:6}))},e}return Object(c.a)(a,[{key:"render",value:function(){return this.loadPage()}}]),a}(n.Component),k=(a(76),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setUserName=function(e){n.setState({userName:e.target.value})},n.setPassword=function(e){n.setState({password:e.target.value})},n.setNewUserName=function(e){n.setState({newUserName:e.target.value})},n.setNewPassword=function(e){n.setState({newPassword:e.target.value})},n.setConfirmPassword=function(e){n.setState({confirmPassword:e.target.value})},n.login=function(){if(""===n.state.userName||""===n.state.password)alert("User name or password can't be empty");else{var e="".concat(b,"/login"),t={userName:n.state.userName,password:n.state.password};g.a.post(e,t).then((function(e){if("user not found"===e.data)alert("User name or password incorrect");else{(new C.a).set("userId",e.data.userId,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0}),window.location.reload(!1)}})).catch((function(e){console.log(e)}))}},n.signUp=function(){if(""===n.state.newUserName||""===n.state.newPassword||""===n.state.confirmPassword)alert("Credentials can't be empty");else if(n.state.newPassword!==n.state.confirmPassword)alert("You need to confirm the password");else{var e="".concat(b,"/signup"),t={newUserName:n.state.newUserName,newPassword:n.state.newPassword};g.a.post(e,t).then((function(e){if("user name taken"===e.data)alert("User name already taken");else{(new C.a).set("userId",e.data.userId,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0}),window.location.reload(!1)}})).catch((function(e){console.log(e)}))}},n.logOut=function(){(new C.a).remove("userId",{path:"/"});var e=window.location.href,t=e.substr(e.indexOf("#")+1);n.setState({loggedUserName:"logged out"}),"/"===t&&window.location.reload(!1)},n.addMovieButton=function(){if(n.state.isManager)return o.a.createElement("a",{href:"#".concat("/addmovie"),className:"add-movie-style"},"Add/Remove a Movie")},n.addCookieSearch=function(){(new C.a).set("show","recent",{path:"/",maxAge:72e5,httponly:!0,sameSite:!0});var e=window.location.href;"/allmovies"===e.substr(e.indexOf("#")+1)&&window.location.reload(!1)},n.loadLogButtons=function(){return void 0!==(new C.a).get("userId")?o.a.createElement("ul",{className:"nav navbar-nav navbar-right"},o.a.createElement("li",null,o.a.createElement("a",{href:"/#","data-toggle":"dropdown",className:"btn btn-primary dropdown-toggle get-started-btn mt-1 mb-1"},"Welcome ",n.state.loggedUserName),o.a.createElement("ul",{className:"dropdown-menu form-wrapper"},o.a.createElement("li",{className:"center-li"},o.a.createElement("a",{onClick:function(){n.addCookieSearch()},href:"#".concat("/allmovies"),className:"fav-style"},"See All Movies"),n.addMovieButton(),o.a.createElement(u.b,{to:"/"},o.a.createElement("button",{onClick:function(){return n.logOut()},className:"logout-text"},"Log Out")))))):o.a.createElement("ul",{className:"nav navbar-nav navbar-right"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"dropdown",className:"dropdown-toggle",href:"/#"},"Login"),o.a.createElement("ul",{className:"dropdown-menu form-wrapper"},o.a.createElement("li",null,o.a.createElement("p",{className:"hint-text"},"Sign in to your account"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:n.setUserName,type:"text",className:"form-control",placeholder:"Username",required:"required"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:n.setPassword,type:"password",className:"form-control",placeholder:"Password",required:"required"})),o.a.createElement("input",{onClick:function(){return n.login()},type:"button",className:"btn btn-primary btn-block",value:"Login"})))),o.a.createElement("li",null,o.a.createElement("a",{href:"/#","data-toggle":"dropdown",className:"btn btn-primary dropdown-toggle get-started-btn mt-1 mb-1"},"Sign Up"),o.a.createElement("ul",{className:"dropdown-menu form-wrapper"},o.a.createElement("li",null,o.a.createElement("p",{className:"hint-text"},"Fill in this form to create your account!"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:n.setNewUserName,type:"text",className:"form-control",placeholder:"Username",required:"required"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:n.setNewPassword,type:"password",className:"form-control",placeholder:"Password",required:"required"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{onChange:n.setConfirmPassword,type:"password",className:"form-control",placeholder:"Confirm Password",required:"required"})),o.a.createElement("input",{onClick:function(){return n.signUp()},type:"submit",className:"btn btn-primary btn-block",value:"Sign up"})))))},n.state={userName:"",password:"",isManager:!1,newUserName:"",newPassword:"",confirmPassword:"",loggedUserName:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=(new C.a).get("userId");if(void 0!==t){var a="".concat(b,"/login/user");g.a.post(a,{userId:t}).then((function(t){"user not found"===t.data?console.log("not found"):e.setState({loggedUserName:t.data.userName,isManager:t.data.isManager})})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return o.a.createElement("nav",{id:"navbar",className:"navbar navbar-default navbar-expand-lg navbar-light"},o.a.createElement("div",{className:"navbar-header"},o.a.createElement("a",{className:"navbar-brand",href:"#".concat("/")},"Movie",o.a.createElement("b",null,"Mojo")),o.a.createElement("button",{type:"button","data-target":"#navbarCollapse","data-toggle":"collapse",className:"navbar-toggle"},o.a.createElement("span",{className:"navbar-toggler-icon"}),o.a.createElement("span",{className:"icon-bar"}),o.a.createElement("span",{className:"icon-bar"}),o.a.createElement("span",{className:"icon-bar"}))),o.a.createElement("div",{id:"navbarCollapse",className:"collapse navbar-collapse"},this.loadLogButtons()))}}]),a}(n.Component)),S=(a(37),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addFavButon=function(){if(void 0!==(new C.a).get("userId"))return n.state.favorite?o.a.createElement("li",null,o.a.createElement("button",{id:"fav",onClick:function(){return n.clickFavButton()},className:"favorite favorite-color"},"Added!")):o.a.createElement("li",null,o.a.createElement("button",{id:"fav",onClick:function(){return n.clickFavButton()},className:"favorite"},"Add to favorites"))},n.clickFavButton=function(){var e=new C.a,t={userId:e.get("userId"),movieId:e.get("movieId")};if(n.state.favorite){var a="".concat(b,"/favorites/delete");g.a.post(a,t).then((function(e){document.getElementById("fav").style.backgroundColor="#4e9af1",document.getElementById("fav").innerHTML="Add to favorites",n.setState({favorite:!1})})).catch((function(e){console.log(e)}))}else{var o="".concat(b,"/favorites/insert");g.a.post(o,t).then((function(e){document.getElementById("fav").style.backgroundColor="#0fbb65",document.getElementById("fav").innerHTML="Added!",n.setState({favorite:!0})})).catch((function(e){console.log(e)}))}},n.state={movieInfo:"",favorite:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new C.a,a=t.get("movieId"),n=t.get("userId");if(void 0!==n){var o={userId:n,movieId:a},r="".concat(b,"/favorites/usermovie");g.a.post(r,o).then((function(t){0!==t.data.length&&e.setState({favorite:!0})})).catch((function(e){console.log(e)}))}var l="".concat(b,"/movies/info");g.a.post(l,{movieId:a}).then((function(t){var a=t.data[0];"https://www.genius100visions.com/wp-content/uploads/2017/09/placeholder-vertical.jpg"===a.poster&&(document.getElementById("poster").style.width="30%"),e.setState({movieInfo:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"wrapper"},o.a.createElement("main",{className:"content"},o.a.createElement("div",{className:"single"},o.a.createElement("section",{className:"trailer"},o.a.createElement("div",{className:"trailer-frame"},o.a.createElement("iframe",{title:this.state.movieInfo.poster,width:"560",height:"349",src:this.state.movieInfo.trailer,frameBorder:"0",allowFullScreen:!0}))),o.a.createElement("section",{className:"movie"},o.a.createElement("img",{id:"poster",alt:"",src:this.state.movieInfo.poster}),o.a.createElement("ul",null,o.a.createElement("li",null,this.state.movieInfo.title),o.a.createElement("li",null,this.state.movieInfo.plot),this.addFavButon(),o.a.createElement("li",{className:"margin-genre"},o.a.createElement("p",null,o.a.createElement("span",null,"Genres: "),this.state.movieInfo.genre)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Director: "),this.state.movieInfo.director)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Cast: "),this.state.movieInfo.actors)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Released: "),this.state.movieInfo.released)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Runtime: "),this.state.movieInfo.runtime)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Metascore: "),this.state.movieInfo.rating,"/100")))))))}}]),a}(n.Component)),W=a(41),x=a.n(W),O=(a(38),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(x.a,{className:"loadingStyle",type:"ThreeDots",color:"rgb(255, 233, 135)",height:"100",width:"100"})}}]),a}(n.Component)),F=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setSearchInput=function(e){n.setState({searchInput:e.target.value})},n.searchOMDb=function(){n.setState({loading:!0},(function(){var e="".concat(b,"/omdb");g.a.post(e,{search:n.state.searchInput}).then((function(e){n.setState({loading:!1}),"movie not found"===e.data?(""===n.state.movieInfo&&n.setState({showSections:!1}),alert("Movie not found.")):n.setState({showSections:!0,movieInfo:e.data.movieInfo,trailer:e.data.trailer,movieFromDB:e.data.movieId})})).catch((function(e){console.log(e)}))}))},n.loadRatingText=function(){return"N/A"===n.state.movieInfo.rating?o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Metascore: "),n.state.movieInfo.rating)):o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Metascore: "),n.state.movieInfo.rating,"/100"))},n.loadAddButton=function(){if(""!==n.state.movieInfo)return 0===n.state.movieFromDB.length?o.a.createElement("li",null,o.a.createElement("button",{onClick:function(){return n.clickMovieButton()},id:"movieButton",className:"favorite"},"Add to the website")):o.a.createElement("li",null,o.a.createElement("button",{onClick:function(){return n.clickMovieButton()},id:"movieButton",className:"favorite-color favorite"},"Remove from the website"))},n.clickMovieButton=function(){if(0===n.state.movieFromDB.length){var e={movieInfo:n.state.movieInfo,trailer:n.state.trailer},t="".concat(b,"/movies/insert");g.a.post(t,e).then((function(e){document.getElementById("movieButton").style.backgroundColor="#0fbb65",document.getElementById("movieButton").innerHTML="Remove from the website",n.setState({movieFromDB:[{movieId:e.data.insertId}]})})).catch((function(e){console.log(e)}))}else{var a={movieId:n.state.movieFromDB[0].movieId},o="".concat(b,"/movies/delete");g.a.post(o,a).then((function(e){document.getElementById("movieButton").style.backgroundColor="#4e9af1",document.getElementById("movieButton").innerHTML="Add to the website",n.setState({movieFromDB:[]})})).catch((function(e){console.log(e)}))}},n.loadSpinner=function(){if(n.state.loading)return o.a.createElement(O,null)},n.loadTrailerSection=function(){if(n.state.showSections)return o.a.createElement("section",{className:"trailer"},o.a.createElement("div",{className:"trailer-frame"},o.a.createElement("iframe",{title:n.state.movieInfo.title,width:"560",height:"349",src:n.state.trailer,frameBorder:"0",allowFullScreen:!0})))},n.loadMovieSection=function(){if(n.state.showSections)return o.a.createElement("section",{className:"movie"},o.a.createElement("img",{alt:"",src:n.state.movieInfo.poster}),o.a.createElement("ul",null,o.a.createElement("li",null,n.state.movieInfo.title),o.a.createElement("li",null,n.state.movieInfo.plot),n.loadAddButton(),o.a.createElement("li",{className:"margin-genre"},o.a.createElement("p",null,o.a.createElement("span",null,"Genres: "),n.state.movieInfo.genre)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Director: "),n.state.movieInfo.director)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Cast: "),n.state.movieInfo.actors)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Released: "),n.state.movieInfo.released)),o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement("span",null,"Runtime: "),n.state.movieInfo.runtime)),n.loadRatingText()))},n.doRedirect=function(){if(n.state.changePage)return o.a.createElement(d.a,{to:"/"})},n.state={searchInput:"",movieInfo:"",trailer:"",movieFromDB:[],loading:!1,showSections:!1,changePage:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=(new C.a).get("userId"),a="".concat(b,"/login/user");g.a.post(a,{userId:t}).then((function(t){t.data.isManager||e.setState({changePage:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrapper"},this.doRedirect(),o.a.createElement("main",{className:"content"},o.a.createElement("div",{className:"single"},o.a.createElement("section",{className:"addBox"},o.a.createElement("p",{className:"searchHeader"},"Add a New Movie From IMDb ",o.a.createElement("span",{id:"spanWord"},"Or")," Remove an existing one"),o.a.createElement("div",{className:"wrap"},o.a.createElement("div",{className:"search"},o.a.createElement("input",{id:"searchImdb",onChange:this.setSearchInput,type:"text",className:"searchTerm",placeholder:"Search a movie"}),o.a.createElement("button",{onClick:function(){return e.searchOMDb()},className:"searchButton"},o.a.createElement("i",{className:"fa fa-search"}))))),this.loadSpinner(),this.loadTrailerSection(),this.loadMovieSection())))}}]),a}(n.Component),j=(a(96),a(97),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).scroll=function(){window.onscroll=function(){var e=window.pageYOffset;null!==document.getElementById("toTop")&&(document.getElementById("toTop").style.display=0===e?"none":"block")}},n.goTop=function(){window.scrollTo({top:0,behavior:"smooth"})},n.addCookieMovieId=function(e){(new C.a).set("movieId",e,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0})},n.loadMovies=function(e){var t=new C.a,a=t.get("userId"),o="",r="";switch(e){case"recent":o="".concat(b,"/movies/recent/all"),r="Released recently";break;case"favorites":o="".concat(b,"/movies/favorites/all"),r="Favorite movies";break;default:o="".concat(b,"/movies/topRated/all"),r="Top rated"}t.set("show",e,{path:"/",maxAge:72e5,httponly:!0,sameSite:!0}),g.a.post(o,{userId:a}).then((function(e){n.setState({movies:e.data,searchTitle:r})})).catch((function(e){console.log(e)}))},n.doRedirect=function(){if(n.state.changePage)return o.a.createElement(d.a,{to:"/"})},n.loadSearchButons=function(){return o.a.createElement("div",{className:"marginButtons"},o.a.createElement("button",{onClick:function(){return n.loadMovies("recent")},className:"styleChoices releasedButton"},"Released recently"),o.a.createElement("button",{onClick:function(){return n.loadMovies("favorites")},className:"styleChoices favoriteButton"},"Favorites"),o.a.createElement("button",{onClick:function(){return n.loadMovies("top-rated")},className:"styleChoices topRatedButton"},"Top rated"))},n.state={searchTitle:"",movies:[],changePage:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new C.a,a=t.get("userId");if(void 0===a)this.setState({changePage:!0});else{var n=t.get("show");this.scroll();var o="",r="";switch(n){case"recent":o="".concat(b,"/movies/recent/all"),r="Released recently";break;case"favorites":o="".concat(b,"/movies/favorites/all"),r="Favorite movies";break;default:o="".concat(b,"/movies/topRated/all"),r="Top rated"}g.a.post(o,{userId:a}).then((function(t){e.setState({movies:t.data,searchTitle:r})})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"content"},this.doRedirect(),o.a.createElement("section",{className:"centered"},o.a.createElement("h3",null,this.state.searchTitle),this.loadSearchButons(),o.a.createElement("div",{className:"movies"},this.state.movies.map((function(t,a){return o.a.createElement("div",{key:a,className:"mov"},o.a.createElement(u.b,{to:{pathname:"/movie"}},o.a.createElement("img",{onClick:function(){return e.addCookieMovieId(t.movieId)},alt:t.title,src:t.poster}),o.a.createElement("h2",{className:"movietitle"},t.title)))})))),o.a.createElement("button",{id:"toTop",onClick:function(){return e.goTop()},className:"btn btn-light btn-lg back-to-top"},o.a.createElement("i",{className:"fa fa-chevron-up"})))}}]),a}(n.Component)),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(u.a,null,o.a.createElement(k,null),o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return o.a.createElement(B,e)}}),o.a.createElement(d.b,{exact:!0,path:"/movie",render:function(e){return o.a.createElement(S,e)}}),o.a.createElement(d.b,{exact:!0,path:"/addmovie",render:function(e){return o.a.createElement(F,e)}}),o.a.createElement(d.b,{exact:!0,path:"/allmovies",render:function(e){return o.a.createElement(j,e)}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.51372df6.chunk.js.map